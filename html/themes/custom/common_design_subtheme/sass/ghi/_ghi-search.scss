//——————————————————————————————————————————————————————————————————————————————
// Search results styles
//
// These styles govern the search results page, including the inline widget and
// the individual results. It does NOT include the search widget inside the top
// CD Header.
//
// @see common_design_subtheme/sass/cd/cd-header/_cd-search.scss
//——————————————————————————————————————————————————————————————————————————————

//
// Inline search widget
//
.region-highlighted {
  position: relative;
  top: 0;
}
main#main-content {
  margin-top: 0;
  transition: 0.15s margin-top ease-out;
}
.search-form-open {
  .region-highlighted {
    top: 6rem;
    transition: 0.15s top ease-out;
  }
  main#main-content {
    margin-top: 6rem;
    transition: 0.15s margin-top ease-out;
  }
}

.cd-search {

  button.cd-search__btn {
    height: $cd-site-header-height;
    padding: 0;

    svg {
      fill: var(--ghi-default-text-color);
    }

    &[aria-expanded="true"] {
      position: relative;

      &::before {
        position: absolute;
        bottom: 0;
        width: 0;
        height: 0;
        content: "";
        border-width: 0 6px 6px;
        border-style: solid;
        border-color: transparent transparent var(--cd-primary-color);

        [dir="ltr"] & {
          left: 50%;
          margin-left: -6px;
        }

        [dir="rtl"] & {
          right: 50%;
          margin-right: -6px;
        }
      }

      svg {
        fill: var(--cd-primary-color);
      }

      &:hover,
      &:focus {
        outline: none;
        background: var(--cd-white);
      }
    }

    .cd-search__btn-label {
      display: none;
      text-transform: uppercase;
      font-size: $cd-font-size--tiny;
      font-weight: 700;
    }

    @include desktop {
      .cd-search__btn svg {
        width: 22px;
        height: 22px;

        [dir="ltr"] & {
          padding-right: 4px;
        }

        [dir="rtl"] & {
          padding-left: 4px;
        }
      }

      .cd-search__btn-label {
        @include visually-hidden;

        display: block;
      }
    }
  }

  .cd-search__form {
    padding-right: 0;
    padding-left: 0;
    background-color: var(--cd-primary-color);
  }

  // Search input should take up as much space as possible.
  .cd-form__item {
    flex-basis: 100%;
  }

  // Search input fills its parent (which is the flex-item).
  .form-search {
    width: 100%;
    height: 100%;
  }

  // Search button is a flex-item and is fixed-width.
  .form-submit {
    text-transform: uppercase;
    background-color: var(--ghi-default-text-color);
    font-size: $cd-font-size--small;
    font-weight: 700;
  }

  // Visually hide the search input's label.
  .form-item-keywords label {
    @include visually-hidden;
  }
}

//
// Search results
//
.path-search {

  .views-field-search-api-rendered-item:not(:last-of-type) {
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--cd-default-border-color);
  }

  .ghi-search-thumbnail {
    width: 100%;
    // min-width: 320px;

    @include tablet {
      width: calc(20% - 2.25rem);
      min-width: 220px;
    }
  }

  // Pagination
  //
  // @see common_design/components/cd-pagination/cd-pagination.css
  nav.pager {
    margin-top: 5rem;

    .cd-pager__item a:hover,
    .cd-pager__item a:focus {
      color: var(--ghi-default-text-color);
      border-color: var(--cd-primary-color);
      background-color: var(--cd-primary-color);
    }

    .cd-pager__item.is-active a,
    .cd-pager__item.is-active a:hover {
      color: var(--ghi-default-text-color);
      border-color: var(--cd-primary-color--dark);
      background-color: var(--cd-primary-color--dark);
      font-weight: 700;
    }
  }
}
